# Docker Test Profile
# Use this profile when running tests with docker-compose.test.yml

spring.datasource.url=jdbc:mariadb://localhost:3307/alovoa_test?createDatabaseIfNotExist=true&serverTimezone=UTC&useLegacyDatetimeCode=false
spring.datasource.username=alovoa_test
spring.datasource.password=alovoa_test

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.id.db_structure_naming_strategy=standard
spring.jpa.properties.hibernate.format_sql=true

# Encryption keys for testing
app.text.key=bqupWgmhCj3fedLxYdNAy2QFA2bS9XJX
app.text.salt=sFRKQAhwdrZq44FQ
app.text.encrypt.return-null-on-fail=true

app.admin.email=admin@alovoa.com
app.admin.key=password
app.scheduling.enabled=false

# MailHog SMTP server for testing (catches all emails without sending)
# Web UI: http://localhost:8025
spring.mail.host=localhost
spring.mail.port=1025
spring.mail.username=
spring.mail.password=
spring.mail.properties.mail.smtp.auth=false
spring.mail.properties.mail.smtp.starttls.enable=false
spring.mail.test-connection=false

# Connection pool settings
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.maximum-pool-size=5

# Disable cache for testing
spring.cache.type=NONE
bucket4j.enabled=false

# OAuth2 mock credentials
spring.security.oauth2.client.registration.google.client-id=test
spring.security.oauth2.client.registration.google.client-secret=test
spring.security.oauth2.client.registration.facebook.client-id=test
spring.security.oauth2.client.registration.facebook.client-secret=test

# Redis (using test container)
spring.data.redis.host=localhost
spring.data.redis.port=6380

# S3/MinIO (using test container)
app.storage.s3.enabled=true
app.storage.s3.endpoint=http://localhost:9100
app.storage.s3.region=us-east-1
app.storage.s3.access-key=aura_test_admin
app.storage.s3.secret-key=aura_test_secret
app.storage.s3.bucket.media=aura-test-media
app.storage.s3.bucket.video=aura-test-video

# Mock AI and Media services
app.media-service.url=http://localhost:8101
app.ai-service.url=http://localhost:8102

# AURA features enabled for testing
app.aura.daily-match-limit=5
app.aura.video-verification-enabled=true
app.aura.reputation-enabled=true
