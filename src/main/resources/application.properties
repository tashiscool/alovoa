#only used when not configured in run configuration, dev profile always recommended to save in IDE
spring.profiles.active=test

server.port=${PORT:8080}
server.use-forward-headers=true

#enable to force https for development
#server.ssl.key-store-type=PKCS12
#server.ssl.key-store=alovoa.p12
#server.ssl.key-store-password=alovoa
#server.ssl.key-alias=alovoa

spring.main.allow-bean-definition-overriding=true

server.http2.enabled=true

spring.datasource.driver-class-name=org.mariadb.jdbc.Driver
spring.datasource.url=jdbc:mariadb://localhost:3306/alovoa?createDatabaseIfNotExist=true&serverTimezone=UTC&useLegacyDatetimeCode=false
#spring.datasource.hikari.maximum-pool-size=10
#spring.datasource.hikari.connectionTimeout=30000
#spring.datasource.hikari.idleTimeout=600000
#spring.datasource.hikari.maxLifetime=1800000

#Insert your oauth2 ids and secrets here
#spring.security.oauth2.client.registration.google.client-id=<your client id>
#spring.security.oauth2.client.registration.google.client-secret=<your client secret>
#spring.security.oauth2.client.registration.facebook.client-id=<your client id>
#spring.security.oauth2.client.registration.facebook.client-secret=<your client secret>

#we keep the default /login/oauth2/code/{registrationId} scheme

spring.web.locale=en_EN

spring.cache.jcache.config=classpath:ehcache.xml

spring.servlet.multipart.maxFileSize=10MB
spring.servlet.multipart.maxRequestSize=10MB

spring.security.oauth2.client.registration.google.scope[0]=email
spring.security.oauth2.client.registration.google.scope[1]=profile
spring.security.oauth2.client.registration.facebook.scope[0]=email
spring.security.oauth2.client.registration.facebook.scope[1]=public_profile

server.servlet.session.timeout=1h
server.servlet.session.cookie.max-age=1h
server.servlet.session.cookie.same-site=LAX
server.compression.enabled=true
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json,application/xml
server.compression.min-response-size=10240

spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect
spring.jpa.database-platform=org.hibernate.dialect.MariaDB103Dialect
spring.jpa.show-sql=false
spring.jpa.generate-ddl=true
spring.jpa.properties.hibernate.id.db_structure_naming_strategy=legacy
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true
spring.jpa.properties.hibernate.plan_cache_max_size=16
spring.jpa.properties.hibernate.plan_parameter_metadata_max_size=16
spring.jpa.properties.hibernate.query.in_clause_parameter_padding=true

### KEYS AND CREDENTIALS ###
#spring.datasource.password=
#spring.datasource.username=
#keys for transparent database encryption
#app.text.key= #key must be 16, 24 or 32 bytes long
#app.text.salt= #salt must be 16 bytes long
#app.admin.email=
#app.admin.key=
#spring.mail.password=<login password to smtp server>
spring.mail.host=mail.gmx.net
spring.mail.port=587
spring.mail.username=nonononoki@gmx.de
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.test-connection=true
spring.mail.properties.mail.smtp.ssl.checkserveridentity=false

# logging
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} %-5level %logger{36} - %msg%n
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=ERROR
logging.level.org.hibernate=ERROR
logging.file.name=./logs/spring.log

#bucket4j
bucket4j.enabled=true
bucket4j.filters[0].cache-name=bucket4j
bucket4j.filters[0].url=.*
bucket4j.filters[0].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[0].rate-limits[0].bandwidths[0].capacity=200
bucket4j.filters[0].rate-limits[0].bandwidths[0].time=6
bucket4j.filters[0].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[1].cache-name=bucket4j
bucket4j.filters[1].url=/login
bucket4j.filters[1].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[1].rate-limits[0].bandwidths[0].capacity=20
bucket4j.filters[1].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[1].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[2].cache-name=bucket4j
bucket4j.filters[2].url=/delete-account-confirm
bucket4j.filters[2].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[2].rate-limits[0].bandwidths[0].capacity=5
bucket4j.filters[2].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[2].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[3].cache-name=bucket4j
bucket4j.filters[3].url=/password/reset
bucket4j.filters[3].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[3].rate-limits[0].bandwidths[0].capacity=5
bucket4j.filters[3].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[3].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[4].cache-name=bucket4j
bucket4j.filters[4].url=/password/change
bucket4j.filters[4].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[4].rate-limits[0].bandwidths[0].capacity=5
bucket4j.filters[4].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[4].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[5].cache-name=bucket4j
bucket4j.filters[5].url=/user/like/*
bucket4j.filters[5].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[5].rate-limits[0].bandwidths[0].capacity=10
bucket4j.filters[5].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[5].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[6].cache-name=bucket4j
bucket4j.filters[6].url=/search/users/*
bucket4j.filters[6].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[6].rate-limits[0].bandwidths[0].capacity=5
bucket4j.filters[6].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[6].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[7].cache-name=bucket4j
bucket4j.filters[7].url=/register
bucket4j.filters[7].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[7].rate-limits[0].bandwidths[0].capacity=5
bucket4j.filters[7].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[7].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[8].cache-name=bucket4j
bucket4j.filters[8].url=/user/delete-account-confirm
bucket4j.filters[8].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[8].rate-limits[0].bandwidths[0].capacity=5
bucket4j.filters[8].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[8].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[9].cache-name=bucket4j
bucket4j.filters[9].url=/user/update/profile-picture
bucket4j.filters[9].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[9].rate-limits[0].bandwidths[0].capacity=5
bucket4j.filters[9].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[9].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[10].cache-name=bucket4j
bucket4j.filters[10].url=/user/update/audio*
bucket4j.filters[10].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[10].rate-limits[0].bandwidths[0].capacity=5
bucket4j.filters[10].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[10].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[11].cache-name=bucket4j
bucket4j.filters[11].url=/user/image/add
bucket4j.filters[11].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[11].rate-limits[0].bandwidths[0].capacity=5
bucket4j.filters[11].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[11].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[12].cache-name=bucket4j
bucket4j.filters[12].url=/user/report
bucket4j.filters[12].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[12].rate-limits[0].bandwidths[0].capacity=5
bucket4j.filters[12].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[12].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[13].cache-name=bucket4j
bucket4j.filters[13].url=/profile/view/*
bucket4j.filters[13].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[13].rate-limits[0].bandwidths[0].capacity=5
bucket4j.filters[13].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[13].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[14].cache-name=bucket4j
bucket4j.filters[14].url=/captcha/generate
bucket4j.filters[14].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[14].rate-limits[0].bandwidths[0].capacity=5
bucket4j.filters[14].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[14].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[15].cache-name=bucket4j
bucket4j.filters[15].url=/info
bucket4j.filters[15].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[15].rate-limits[0].bandwidths[0].capacity=2
bucket4j.filters[15].rate-limits[0].bandwidths[0].time=20
bucket4j.filters[15].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[16].cache-name=bucket4j
bucket4j.filters[16].url=/user/*
bucket4j.filters[16].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[16].rate-limits[0].bandwidths[0].capacity=10
bucket4j.filters[16].rate-limits[0].bandwidths[0].time=20
bucket4j.filters[16].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[17].cache-name=bucket4j
bucket4j.filters[17].url=/user/userdata/*
bucket4j.filters[17].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[17].rate-limits[0].bandwidths[0].capacity=5
bucket4j.filters[17].rate-limits[0].bandwidths[0].time=1200
bucket4j.filters[17].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[18].cache-name=bucket4j
bucket4j.filters[18].url=/profile/*
bucket4j.filters[18].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[18].rate-limits[0].bandwidths[0].capacity=10
bucket4j.filters[18].rate-limits[0].bandwidths[0].time=10
bucket4j.filters[18].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[19].cache-name=bucket4j
bucket4j.filters[19].url=/user/delete-account-confirm
bucket4j.filters[19].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[19].rate-limits[0].bandwidths[0].capacity=5
bucket4j.filters[19].rate-limits[0].bandwidths[0].time=1200
bucket4j.filters[19].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[20].cache-name=bucket4j
bucket4j.filters[20].url=/imprint/delete-account-request
bucket4j.filters[20].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[20].rate-limits[0].bandwidths[0].capacity=10
bucket4j.filters[20].rate-limits[0].bandwidths[0].time=1200
bucket4j.filters[20].rate-limits[0].bandwidths[0].unit=seconds

# AURA Rate Limiting
bucket4j.filters[21].cache-name=bucket4j
bucket4j.filters[21].url=/api/v1/matching/*
bucket4j.filters[21].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[21].rate-limits[0].bandwidths[0].capacity=10
bucket4j.filters[21].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[21].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[22].cache-name=bucket4j
bucket4j.filters[22].url=/api/v1/reputation/*
bucket4j.filters[22].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[22].rate-limits[0].bandwidths[0].capacity=20
bucket4j.filters[22].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[22].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[23].cache-name=bucket4j
bucket4j.filters[23].url=/video/verification/*
bucket4j.filters[23].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[23].rate-limits[0].bandwidths[0].capacity=5
bucket4j.filters[23].rate-limits[0].bandwidths[0].time=300
bucket4j.filters[23].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[24].cache-name=bucket4j
bucket4j.filters[24].url=/video/intro/*
bucket4j.filters[24].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[24].rate-limits[0].bandwidths[0].capacity=3
bucket4j.filters[24].rate-limits[0].bandwidths[0].time=3600
bucket4j.filters[24].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[25].cache-name=bucket4j
bucket4j.filters[25].url=/personality/*
bucket4j.filters[25].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[25].rate-limits[0].bandwidths[0].capacity=10
bucket4j.filters[25].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[25].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[26].cache-name=bucket4j
bucket4j.filters[26].url=/api/v1/video-date/*
bucket4j.filters[26].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[26].rate-limits[0].bandwidths[0].capacity=20
bucket4j.filters[26].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[26].rate-limits[0].bandwidths[0].unit=seconds

# Accountability System Rate Limiting
bucket4j.filters[27].cache-name=bucket4j
bucket4j.filters[27].url=/api/v1/accountability/report
bucket4j.filters[27].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[27].rate-limits[0].bandwidths[0].capacity=3
bucket4j.filters[27].rate-limits[0].bandwidths[0].time=86400
bucket4j.filters[27].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[28].cache-name=bucket4j
bucket4j.filters[28].url=/api/v1/accountability/*
bucket4j.filters[28].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[28].rate-limits[0].bandwidths[0].capacity=30
bucket4j.filters[28].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[28].rate-limits[0].bandwidths[0].unit=seconds

# Political Assessment Rate Limiting
bucket4j.filters[29].cache-name=bucket4j
bucket4j.filters[29].url=/api/v1/political-assessment/*
bucket4j.filters[29].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[29].rate-limits[0].bandwidths[0].capacity=20
bucket4j.filters[29].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[29].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[30].cache-name=bucket4j
bucket4j.filters[30].url=/api/v1/political-assessment/vasectomy/*
bucket4j.filters[30].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[30].rate-limits[0].bandwidths[0].capacity=3
bucket4j.filters[30].rate-limits[0].bandwidths[0].time=3600
bucket4j.filters[30].rate-limits[0].bandwidths[0].unit=seconds

# Intake Flow Rate Limiting
bucket4j.filters[31].cache-name=bucket4j
bucket4j.filters[31].url=/intake/progress
bucket4j.filters[31].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[31].rate-limits[0].bandwidths[0].capacity=30
bucket4j.filters[31].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[31].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[32].cache-name=bucket4j
bucket4j.filters[32].url=/intake/questions/*
bucket4j.filters[32].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[32].rate-limits[0].bandwidths[0].capacity=20
bucket4j.filters[32].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[32].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[33].cache-name=bucket4j
bucket4j.filters[33].url=/intake/video
bucket4j.filters[33].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[33].rate-limits[0].bandwidths[0].capacity=3
bucket4j.filters[33].rate-limits[0].bandwidths[0].time=3600
bucket4j.filters[33].rate-limits[0].bandwidths[0].unit=seconds

bucket4j.filters[34].cache-name=bucket4j
bucket4j.filters[34].url=/intake/audio
bucket4j.filters[34].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[34].rate-limits[0].bandwidths[0].capacity=5
bucket4j.filters[34].rate-limits[0].bandwidths[0].time=3600
bucket4j.filters[34].rate-limits[0].bandwidths[0].unit=seconds

# custom values
app.company.name=Alovoa
app.privacy.update-date=2021-06-16
app.tos.update-date=2021-09-22
app.name=Alovoa
app.domain=http://localhost:8080
app.scheduling.enabled=true

#secret in url to verify that the transaction is legit, change in production!
app.donate.kofi.key=kofi123
app.donate.bmac.key=bmac123

app.mail.plus-addressing=false
app.first-name.length-min=2
app.first-name.length-max=10
app.audio.max-time=10
app.audio.max-size=10000000
app.image.max-size=5000000
app.captcha.length=4
app.password-token.length=32
app.age.min=16
app.age.max=99
app.age.range=10
#7 days
app.donation.popup.time=604800000
app.token.length=30
app.profile.image.length=600
app.profile.image.max=4
app.profile.description.size=255
app.search.max=20
app.search.max.distance=160
app.search.estimate.max=200
app.search.ignore-intention=true
app.message.size=255
app.conversation.messages-max=50
app.donate.users.max=100
app.referral.max=20
app.like.message.length=120

#test values only, use proper keys for production!
app.login.remember.key=CWjuiidCW23KnRWUnzVpcpE4pVFcVCC7pi5X9htZVxDPp5ztWDrj2ePahFXQQeTx

app.text.encrypt.return-null-on-fail=false

app.intention.delay=86400000
app.interest.max=10
app.interest.min-chars=3
app.interest.max-chars=30
app.interest.autocomplete.max=5
app.prompt.max=6
app.prompt.length.max=120
app.donation.modulus=10
app.url.auth.success=/
app.url.auth.failure=/?auth-error
app.url.front-end=http://localhost:8081

#24 hours
app.user.delete.duration.valid=86400000
#5 minutes
app.user.password-reset.duration.valid=300000

#schedules
app.schedule.enabled=true
#30 seconds
app.schedule.short=30000
#1 hour
app.schedule.long=3600000
#5 minutes
app.schedule.delay.captcha=300000
#90 days
app.schedule.delay.hide=9720000000
#14 days
app.schedule.delay.user.cleanup=1209600000

### AURA Extension Configuration ###
# Microservices
app.aura.media-service.url=http://localhost:8001
app.aura.ai-service.url=http://localhost:8002

# Video Verification
app.aura.video-verification.enabled=true
app.aura.video.max-duration=120
app.aura.video.max-size=50000000
app.aura.video.allowed-formats=mp4,webm,mov
app.aura.face-match.threshold=0.70
app.aura.liveness.threshold=0.85
app.aura.deepfake.threshold=0.80

# Daily Match Limits
app.aura.daily-match.enabled=true
app.aura.daily-match.limit.default=5
app.aura.daily-match.limit.verified=10
app.aura.daily-match.limit.premium=20
app.aura.daily-match.reset-hour=0

# Reputation System
app.aura.reputation.enabled=true
app.aura.reputation.initial-score=50.0
app.aura.reputation.ghosting.threshold-hours=72
app.aura.reputation.ghosting.penalty=5.0
app.aura.reputation.response.bonus=2.0
app.aura.reputation.date-completion.bonus=10.0

# Personality Assessment
app.aura.personality.enabled=true
app.aura.personality.questions-count=25
app.aura.personality.assessment-version=1

# Political/Economic Assessment
app.aura.political-assessment.enabled=true
app.aura.political-assessment.required=true
app.aura.political-assessment.version=1

# Compatibility Scoring
app.aura.compatibility.personality-weight=0.30
app.aura.compatibility.values-weight=0.25
app.aura.compatibility.lifestyle-weight=0.20
app.aura.compatibility.attraction-weight=0.15
app.aura.compatibility.circumstantial-weight=0.10

# Video Dating
app.aura.video-date.enabled=true
app.aura.video-date.max-duration=3600
app.aura.video-date.proposal-expiry-hours=48

# Intake Flow Configuration
app.aura.intake.min-pictures=1
app.aura.intake.max-video-size-mb=50
app.aura.intake.video-required=true
app.aura.intake.audio-optional=true

# AI Provider Configuration
# Options: openai, claude, gemini, bedrock, local
app.aura.ai.provider=local

# OpenAI Configuration
app.aura.ai.openai.api-key=${OPENAI_API_KEY:}
app.aura.ai.openai.model=gpt-4-turbo
app.aura.ai.openai.whisper-model=whisper-1

# Anthropic Claude Configuration
app.aura.ai.claude.api-key=${ANTHROPIC_API_KEY:}
app.aura.ai.claude.model=claude-3-opus-20240229

# Google Gemini Configuration
app.aura.ai.gemini.api-key=${GOOGLE_AI_API_KEY:}
app.aura.ai.gemini.model=gemini-1.5-pro

# AWS Bedrock Configuration
# Supported models: anthropic.claude-3-sonnet, amazon.titan-text-express, meta.llama2-70b-chat, mistral.mixtral-8x7b
app.aura.ai.bedrock.access-key=${AWS_ACCESS_KEY_ID:}
app.aura.ai.bedrock.secret-key=${AWS_SECRET_ACCESS_KEY:}
app.aura.ai.bedrock.region=${AWS_REGION:us-east-1}
app.aura.ai.bedrock.model=anthropic.claude-3-sonnet-20240229-v1:0

# AI Analysis Prompts
app.aura.ai.prompt.worldview=Analyze this video transcript and summarize the person's worldview, beliefs, values, and how they see the world. Focus on their perspective on life, relationships, and what matters to them.
app.aura.ai.prompt.background=Extract background information about this person from the transcript including education, career, family background, significant life experiences, and personal history.
app.aura.ai.prompt.lifestory=Summarize this person's life story narrative as expressed in the video. Capture the key moments, turning points, and experiences that shaped who they are today.

# S3-Compatible Storage Configuration (Backblaze B2)
# Backblaze B2 is cost-effective: $6/TB/month storage, free egress to partners
app.storage.s3.enabled=true
app.storage.s3.endpoint=${S3_ENDPOINT:https://s3.us-west-004.backblazeb2.com}
app.storage.s3.region=${S3_REGION:us-west-004}
app.storage.s3.access-key=${B2_APPLICATION_KEY_ID:}
app.storage.s3.secret-key=${B2_APPLICATION_KEY:}
app.storage.s3.bucket.media=${B2_BUCKET_MEDIA:aura-media}
app.storage.s3.bucket.video=${B2_BUCKET_VIDEO:aura-video}

# Stripe Payment Configuration (Donation Model)
# Get keys from https://dashboard.stripe.com/apikeys
stripe.api-key=${STRIPE_SECRET_KEY:sk_test_...}
stripe.webhook-secret=${STRIPE_WEBHOOK_SECRET:whsec_...}
stripe.public-key=${STRIPE_PUBLISHABLE_KEY:pk_test_...}

# Donation Configuration
app.donation.enabled=true
app.donation.payment-url=https://donate.stripe.com/aura
app.donation.currency=usd
app.donation.suggested-amounts=10,25,50,100

# Waitlist Configuration
app.waitlist.referral-bonus=10
app.waitlist.women-priority-bonus=100

# Waitlist Rate Limiting
bucket4j.filters[35].cache-name=bucket4j
bucket4j.filters[35].url=/api/v1/waitlist/*
bucket4j.filters[35].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[35].rate-limits[0].bandwidths[0].capacity=10
bucket4j.filters[35].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[35].rate-limits[0].bandwidths[0].unit=seconds

# Stripe Webhook Rate Limiting
bucket4j.filters[36].cache-name=bucket4j
bucket4j.filters[36].url=/api/v1/stripe/webhook
bucket4j.filters[36].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[36].rate-limits[0].bandwidths[0].capacity=100
bucket4j.filters[36].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[36].rate-limits[0].bandwidths[0].unit=seconds

# Donation Rate Limiting
bucket4j.filters[37].cache-name=bucket4j
bucket4j.filters[37].url=/api/v1/donation/*
bucket4j.filters[37].rate-limits[0].cache-key=getRemoteAddr()
bucket4j.filters[37].rate-limits[0].bandwidths[0].capacity=20
bucket4j.filters[37].rate-limits[0].bandwidths[0].time=60
bucket4j.filters[37].rate-limits[0].bandwidths[0].unit=seconds

# Content Moderation Configuration
app.moderation.enabled=true
app.moderation.api-key=${PERSPECTIVE_API_KEY:}
app.moderation.toxicity-threshold=0.7
app.moderation.insult-threshold=0.8
app.moderation.profanity-threshold=0.9
